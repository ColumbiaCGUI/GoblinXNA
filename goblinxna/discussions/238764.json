[
  {
    "Id": "537409",
    "ThreadId": "238764",
    "Html": "\r\n<p>Hey guys,</p>\r\n<p>I'm just trying to force tutorial 8 to track the Toolbar Marker Array. Unfortunately it doesn't show my 3D model. Does anybody know why? (code is attached)</p>\r\n<p>It seems that it has some troubles with the Array Config file (Toolbox.txt), because I tried the same with a self-created one. BTW: The code compiles well. No errors.</p>\r\n<p>&nbsp;</p>\r\n<p>Thanks...</p>\r\n<p>&nbsp;</p>\r\n<p>// Loades textured model of an object<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ModelLoader loader2 = new ModelLoader();<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Model toolbarModel = (Model)loader2.Load(&quot;&quot;, &quot;test2&quot;);<br>\r\n<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Create a geometry node for Schafkopf table<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GeometryNode toolbarNode = new GeometryNode(&quot;Tool&quot;);<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarNode.Model = toolbarModel;<br>\r\n<br>\r\n<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Create a marker node to track a toolbar marker array.<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ids = new int[2];<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ids[0] = 29;<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ids[1] = 30;<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarMarkerNode = new MarkerNode(scene.MarkerTracker, &quot;Toolbar.txt&quot;, ids);<br>\r\n<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Table transformation<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TransformNode toolbarTransNode = new TransformNode();<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarTransNode.Translation = new Vector3(0, 0, 0.1f);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarTransNode.Scale = new Vector3(0.1f);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarTransNode.Rotation = Quaternion.CreateFromAxisAngle(new Vector3(0, 0, 1), MathHelper.ToRadians(270));<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Material toolbarMaterial = new Material();<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarMaterial.Diffuse = new Vector4(1, 1, 1, 1);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarMaterial.Specular = Color.White.ToVector4();<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarMaterial.SpecularPower = 10;<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarNode.Material = toolbarMaterial;<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Now add the above nodes to the scene graphe in the appropriate order.<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Note that only the nodes addes below the marker node are affected by the marker transformation.<br>\r\n<br>\r\n<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scene.RootNode.AddChild(toolbarMarkerNode);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarMarkerNode.AddChild(toolbarTransNode);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; toolbarTransNode.AddChild(toolbarNode);<br>\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>\r\n",
    "PostedDate": "2010-12-17T10:07:20.633-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "538051",
    "ThreadId": "238764",
    "Html": "\r\n<p>The code looks correct.&nbsp;</p>\r\n<p>There a few possibilities you're not seeing the model.</p>\r\n<p>First of all, you want to make sure the marker array is being tracked. You can check that by checking toolbarMarkerNode.MarkerFound is true in your Draw(...) call when the array is visible in the video.</p>\r\n<p>Once you know the array is being tracked, the next thing to check is that your model attached on the marker is neither too small or too big. In either case, you will see nothing. Check your model dimension by getting Vector3Helper.GetDimensions(toolbarModel.MinimumBoundingBox).\r\n Then compare this with your marker array dimension defined your .txt file. Also, you're applying 0.1f scale to your model, so your if model dimension * scale is too small or too big compared to your marker array dimension, then it's a problem.</p>\r\n<p>One way to automatically make your model match the size of the marker array is, make your Scale to be &nbsp;</p>\r\n<p>(marker array dimension in X) / Vector3Helper.GetDimensions(toolbarModel.MinimumBoundingBox).X</p>\r\n<p>Note that this will only consider in the X dimension, but you can change it to use the overall size if you like.</p>\r\n<p>Ohan</p>\r\n",
    "PostedDate": "2010-12-19T15:33:04.303-08:00",
    "UserRole": "Owner",
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "538062",
    "ThreadId": "238764",
    "Html": "\r\n<p>Ohan, thanks for your reply.</p>\r\n<p>In the meantime I found the mistake. It was a Config File issue. The marker was tracked, but it didn't show the model, because the coordinates in the Config file were wrong. The only mistake was, that I'm using German language settings. So the coordinates\r\n in the config file were generated with a &quot;,&quot; instead of a &quot;.&quot; as a seperator. I fixed this and now everything is running well.</p>\r\n",
    "PostedDate": "2010-12-19T16:20:59.003-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]